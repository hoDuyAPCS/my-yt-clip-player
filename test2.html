<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Grocery Store Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f9fc;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #2e7d32 0%, #43a047 100%);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }

        .main-content {
            flex: 3;
            min-width: 300px;
        }

        .sidebar {
            flex: 1;
            min-width: 250px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
        }

        h2 {
            color: #2e7d32;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e8f5e9;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        input, button {
            width: 100%;
            padding: 12px 15px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 16px;
        }

        input:focus {
            outline: none;
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        button {
            background-color: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        button:hover {
            background-color: #388e3c;
        }

        button.secondary {
            background-color: #2196f3;
        }

        button.secondary:hover {
            background-color: #1976d2;
        }

        button.danger {
            background-color: #f44336;
        }

        button.danger:hover {
            background-color: #d32f2f;
        }

        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .search-container input {
            flex: 1;
        }

        .search-container button {
            width: auto;
            padding: 12px 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        thead {
            background-color: #e8f5e9;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            font-weight: 700;
            color: #2e7d32;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        .stock-low {
            color: #f44336;
            font-weight: bold;
        }

        .stock-ok {
            color: #4caf50;
            font-weight: bold;
        }

        .actions {
            display: flex;
            gap: 10px;
        }

        .actions button {
            padding: 8px 12px;
            font-size: 14px;
            width: auto;
        }

        .stats {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .stat-box {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2e7d32;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #777;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #ddd;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #777;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }

        .instructions {
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 0 8px 8px 0;
        }

        .instructions h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 8px;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .search-container button {
                width: 100%;
            }
            
            .actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-shopping-cart"></i> Grocery Store Manager</h1>
        <p>Manage your grocery store inventory - add products, update stock, and search items. All data is stored locally in your browser.</p>
    </header>

    <div class="container">
        <div class="sidebar">
            <div class="card">
                <h2><i class="fas fa-plus-circle"></i> Add New Product</h2>
                <form id="product-form">
                    <div class="form-group">
                        <label for="product-name"><i class="fas fa-tag"></i> Product Name</label>
                        <input type="text" id="product-name" placeholder="e.g., Apples, Milk, Bread" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-price"><i class="fas fa-dollar-sign"></i> Price ($)</label>
                        <input type="number" id="product-price" step="0.01" min="0.01" placeholder="e.g., 2.99" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-stock"><i class="fas fa-boxes"></i> Stock Quantity</label>
                        <input type="number" id="product-stock" min="0" placeholder="e.g., 50" required>
                    </div>
                    
                    <button type="submit" id="add-product">
                        <i class="fas fa-save"></i> Add Product
                    </button>
                </form>
            </div>

            <div class="card">
                <h2><i class="fas fa-chart-bar"></i> Store Stats</h2>
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-value" id="total-products">0</div>
                        <div class="stat-label">Total Products</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="total-value">$0</div>
                        <div class="stat-label">Total Value</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="low-stock">0</div>
                        <div class="stat-label">Low Stock</div>
                    </div>
                </div>
            </div>

            <div class="instructions">
                <h3><i class="fas fa-info-circle"></i> How to Use</h3>
                <ul>
                    <li>Add products using the form on the left</li>
                    <li>Search products using the search bar above the table</li>
                    <li>Edit or delete products using the action buttons</li>
                    <li>All data is saved automatically in your browser</li>
                    <li>Low stock items are highlighted in red</li>
                </ul>
            </div>
        </div>

        <div class="main-content">
            <div class="card">
                <h2><i class="fas fa-search"></i> Search Products</h2>
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search for products by name...">
                    <button type="button" id="clear-search" class="secondary">
                        <i class="fas fa-times"></i> Clear
                    </button>
                </div>

                <h2><i class="fas fa-box-open"></i> Product Inventory</h2>
                <div id="product-table-container">
                    <table id="product-table">
                        <thead>
                            <tr>
                                <th>Product Name</th>
                                <th>Price ($)</th>
                                <th>Stock</th>
                                <th>Total Value</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="product-list">
                            <!-- Products will be inserted here by JavaScript -->
                        </tbody>
                    </table>
                    <div id="empty-message" class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3>No products found</h3>
                        <p>Add your first product using the form on the left</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Grocery Store Manager v1.0 • Data stored locally in your browser • <span id="storage-status">LocalStorage is working</span></p>
    </footer>

    <script>
        // DOM elements
        const productForm = document.getElementById('product-form');
        const productNameInput = document.getElementById('product-name');
        const productPriceInput = document.getElementById('product-price');
        const productStockInput = document.getElementById('product-stock');
        const productList = document.getElementById('product-list');
        const searchInput = document.getElementById('search-input');
        const clearSearchBtn = document.getElementById('clear-search');
        const emptyMessage = document.getElementById('empty-message');
        const totalProductsEl = document.getElementById('total-products');
        const totalValueEl = document.getElementById('total-value');
        const lowStockEl = document.getElementById('low-stock');
        const storageStatus = document.getElementById('storage-status');

        // Product data - loaded from localStorage
        let products = [];
        let searchQuery = '';

        // Initialize the app
        function init() {
            loadProducts();
            renderProducts();
            updateStats();
            
            // Check if localStorage is available
            if (typeof(Storage) === "undefined") {
                storageStatus.textContent = "Warning: LocalStorage not supported! Data will not be saved.";
                storageStatus.style.color = "#f44336";
            }
            
            // Add sample data if no products exist
            if (products.length === 0) {
                addSampleProducts();
            }
        }

        // Load products from localStorage
        function loadProducts() {
            const storedProducts = localStorage.getItem('groceryProducts');
            if (storedProducts) {
                products = JSON.parse(storedProducts);
            }
        }

        // Save products to localStorage
        function saveProducts() {
            localStorage.setItem('groceryProducts', JSON.stringify(products));
        }

        // Add sample products for first-time users
        function addSampleProducts() {
            const sampleProducts = [
                { id: Date.now(), name: "Apples", price: 3.49, stock: 42 },
                { id: Date.now() + 1, name: "Milk", price: 2.99, stock: 24 },
                { id: Date.now() + 2, name: "Bread", price: 2.49, stock: 18 },
                { id: Date.now() + 3, name: "Eggs", price: 4.29, stock: 36 },
                { id: Date.now() + 4, name: "Coffee", price: 8.99, stock: 12 },
                { id: Date.now() + 5, name: "Bananas", price: 1.29, stock: 8 }
            ];
            
            products.push(...sampleProducts);
            saveProducts();
            renderProducts();
            updateStats();
        }

        // Add a new product
        function addProduct(name, price, stock) {
            const newProduct = {
                id: Date.now(),
                name: name.trim(),
                price: parseFloat(price),
                stock: parseInt(stock)
            };
            
            products.push(newProduct);
            saveProducts();
            renderProducts();
            updateStats();
            
            // Reset form
            productForm.reset();
            productNameInput.focus();
        }

        // Edit an existing product
        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            // Pre-fill form with product data
            productNameInput.value = product.name;
            productPriceInput.value = product.price;
            productStockInput.value = product.stock;
            
            // Change button to update mode
            const addButton = document.getElementById('add-product');
            addButton.innerHTML = '<i class="fas fa-edit"></i> Update Product';
            addButton.onclick = function(e) {
                e.preventDefault();
                updateProduct(id);
            };
            
            // Scroll to form
            document.querySelector('.sidebar').scrollIntoView({ behavior: 'smooth' });
            productNameInput.focus();
        }

        // Update an existing product
        function updateProduct(id) {
            const index = products.findIndex(p => p.id === id);
            if (index === -1) return;
            
            products[index] = {
                id: id,
                name: productNameInput.value.trim(),
                price: parseFloat(productPriceInput.value),
                stock: parseInt(productStockInput.value)
            };
            
            saveProducts();
            renderProducts();
            updateStats();
            
            // Reset form and button
            productForm.reset();
            const addButton = document.getElementById('add-product');
            addButton.innerHTML = '<i class="fas fa-save"></i> Add Product';
            addButton.onclick = function(e) {
                e.preventDefault();
                handleFormSubmit();
            };
        }

        // Delete a product
        function deleteProduct(id) {
            if (confirm("Are you sure you want to delete this product?")) {
                products = products.filter(p => p.id !== id);
                saveProducts();
                renderProducts();
                updateStats();
            }
        }

        // Filter products based on search query
        function filterProducts() {
            if (!searchQuery.trim()) return products;
            
            const query = searchQuery.toLowerCase();
            return products.filter(product => 
                product.name.toLowerCase().includes(query)
            );
        }

        // Render products to the table
        function renderProducts() {
            const filteredProducts = filterProducts();
            
            // Show/hide empty message
            if (filteredProducts.length === 0) {
                emptyMessage.style.display = 'block';
                productList.innerHTML = '';
            } else {
                emptyMessage.style.display = 'none';
                
                // Clear current list
                productList.innerHTML = '';
                
                // Add each product to the table
                filteredProducts.forEach(product => {
                    const totalValue = product.price * product.stock;
                    const stockClass = product.stock < 10 ? 'stock-low' : 'stock-ok';
                    const stockText = product.stock < 10 ? `${product.stock} (Low)` : product.stock;
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${product.name}</td>
                        <td>$${product.price.toFixed(2)}</td>
                        <td class="${stockClass}">${stockText}</td>
                        <td>$${totalValue.toFixed(2)}</td>
                        <td>
                            <div class="actions">
                                <button onclick="editProduct(${product.id})" class="secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button onclick="deleteProduct(${product.id})" class="danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </td>
                    `;
                    productList.appendChild(row);
                });
            }
        }

        // Update statistics
        function updateStats() {
            const totalProducts = products.length;
            const totalValue = products.reduce((sum, product) => sum + (product.price * product.stock), 0);
            const lowStockCount = products.filter(product => product.stock < 10).length;
            
            totalProductsEl.textContent = totalProducts;
            totalValueEl.textContent = `$${totalValue.toFixed(2)}`;
            lowStockEl.textContent = lowStockCount;
        }

        // Handle form submission
        function handleFormSubmit() {
            if (!productNameInput.value.trim() || !productPriceInput.value || !productStockInput.value) {
                alert("Please fill in all fields");
                return;
            }
            
            addProduct(productNameInput.value, productPriceInput.value, productStockInput.value);
        }

        // Event listeners
        productForm.addEventListener('submit', function(e) {
            e.preventDefault();
            handleFormSubmit();
        });

        searchInput.addEventListener('input', function() {
            searchQuery = this.value;
            renderProducts();
        });

        clearSearchBtn.addEventListener('click', function() {
            searchInput.value = '';
            searchQuery = '';
            renderProducts();
        });

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>